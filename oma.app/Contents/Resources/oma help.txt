- x
	Subtracts x from the data in the current image data buffer.
	
-RGB x y z
	Subtract x from the red, y from the green, and z from the blue part of the current (assumed RGB) image in the buffer.
	
* x
	Multiplies the data in the current image data buffer by x.
	
*RGB x y z
	For the current (assumed RGB) image in the buffer, multiply the red part by x, the green part by y, and the blue part by z.
	
/ x
	Divides the data in the current image data buffer by x.
	
/RGB x y z
	For the current (assumed RGB) image in the buffer, divide the red part by x, the green part by y, and the blue part by z.
	
+ x
	Adds x to the data in the current image data buffer.
	
+RGB x y z
	Add x to the red, y to the green, and z to the blue part of the current (assumed RGB) image in the buffer.
	
3DDELETE
	Delete the 3D data array built up with 3DSTORE commands.
	
3DSAVE <filename>
	Save the 3D data array to a file.

3DSTORE
	Store the current image as the next slice of a 3D array.

3DXZ n
	Get the nth x-z slice of the 3D data array.

3DYZ n
	Get the nth y-z slice of the 3D data array.

ABELCLEAN X
	Try to clean up Abel inverted images. Calculate average horizontal gradient magnitude. If the average horizontal gradient in a single line is more than X times greater than the average, replace the line with the average of the lines above and below.

ABELPREP clip_value [fill_value]
	Finds the maximum pixel value along horizontal lines in the image. If that maximum is < clip_value, the entire horizontal line is set to fill_value. Default for fill_value is 0.

ABELRECT rec_width [rec_y0 rec_y1]
	Sets the rectangle (of width rec_width) according to the centroid of the image. If rec_y0 and rec_y1 are omitted, they are taken to be the top and bottom of the image

ABSOLUTE
	Take the absolute value of the data in the current image data buffer.

ACADD
	Adds the current image data buffer to the accumulator buffer.

ACCUMULATE
	Allocates and clears memory for an image accumulator buffer that can be used to sum individual images. The size of the accumulator is determined by the image size parameters when the accumulate command is first given.

ACDELETE
	Frees the memory associated with the accumulator. 

ACGET
	Moves the data from the accumulator buffer into the current image data area. The previous contents of the image data buffer are destroyed.

ACPDF n
	Accumulate a pdf of 2 variables. The binning parameters are selected with the ACSPDF command. n is the single channel of the data to be used in accumulating the pdf. (Yale Command.)

ACSPDF start_val bin_width
	Setup for the ACPDF command. Must specify: 
	Starting Value 
	Bin Width
	Note that the number of bins is specified by the size of the 2D array defined when the accumulator is defined with the ACCGET command.

ADDFILE <filename>
	Adds the contents of an OMA file of a given name to the data in the current image data buffer.

ADDTMP name
	Adds the contents of the named temporary image to the data in the current image data buffer.

AINBURST num_channels, num_points, rate
	Read Analog input on a LabJack U12 in burst mode.
	num_channels: must be 1, 2 or 4
	num_points: the number of points acquired for each channel
	rate: the scan rate (Hz)
	restrictions: 
	num_channels*rate must be 400-8192.
	num_channels*num_points must be 1-4096
	Analog channels 0, 0 and 1, or 0, 1, 2, and 3 are sampled for num_channels equal to 1, 2, or 4 respectively.

AINPUT [channel]
	Reads the analog input from the specified channel (default is 0) of a Labjack U12 USB analog/digital  I/O device. The value (in volts) is returned in command_return_1.

AMASK value
	Make a "mask" corresponding to air in Rayleigh flame images. Set new image value to 1 under the following conditions: 
	image value > value
	All image values along the current row have satisfied the above condition as well. 
	Otherwise, set the image value to 0. This assumes the cold air part of the image is on the left hand side.

ANGRAD
	Replace the image with and image that represents the angle of the gradient at each point.

AOUTPUT v1 v2 [v3 v4]
	Sends voltages to D/A converters 0 and 1 on a Labjack USB analog/digital I/O device.
	If a Labjack U3 is present, v1 and v2 are sent to it.
	If there is no U3 but there is a Labjack U12, v1 and v2 are sent to the U12.
	If both U3 and U12 Labjacks are present and all 4 voltages are given, v1 and v2 are sent to the U3 and v3 and v4 are sent to the U12.

ASPECTRATIO [aspect_ratio]
	If aspect_ratio is 0 (or the argument is omitted), the aspect ratio of the tool rectangle is as drawn with the cursor. If aspect_ratio is set to a nonzero value with the ASPECTRATIO command, rectangles drawn with the cursor will be constrained to the specified aspect ratio. The aspect ratio is width/height.

ATTDIAMETER <microns>
	If <microns> is specified on the command line then the Attenuation parameter for Mean Particle Diameter is set to that value. If this command is called without arguments then the Attenuation dialog box is opened.

ATTENUATION
	Runs the Attenuation algorithm in OMA on the image in the buffer. Attenuation parameters are specified using ATTVALUES. The OMA buffer contains the corrected intensity image. Other intermediate images are in the temporary buffers:
	Temp[0]: The original image
	Temp[1]: The K_div image (laser fluence correction for divergence)
	Temp[2]: The local transmission fraction in a pixel due to extinction by particles, K_trans
	Temp[3]: The Ck image
	Temp[4]: The mean Particle cross-section distribution
	Temp[5]: The number of standard particles in each pixel (N_p)
	Temp[6]: The extinction history at each point.

ATTIPRESOLUTION <microns>
	If <microns> is specified on the command line then the Attenuation parameter for In-Plane (CCD) Resolution is set to that value. If this command is called without arguments then the Attenuation dialog box is opened. 

ATTLSTHICKNESS <microns>
	If <microns> is specified on the command line then the Attenuation parameter for Laser Sheet Thickness is set to that value. If this command is called without arguments then the Attenuation dialog box is opened.

ATTPRINT
	Prints the Attenuation parameters to the OMA Command Window. Attenuation parameters are set with ATTVALUES.

ATTSCALE <arg1>
	If <arg1> is specified on the command line then the Attenuation parameter for Ck scaling parameter is set to that value. If this command is called without arguments then the Attenuation dialog box is opened.

ATTVALUES <xloc> <yloc>
	Called with two arguments, this command sets the location of the  Virtual Origin for the Attenuation algorithm. The V.O must be off the  LHS of the image. If this is not the case, use FLIPH or ROTATE to make it so. The location of the V.O. is with respect the OMA origin, which is top-left corner of the image. If this command is called without arguments then the Attenuation dialog box is opened. 

AVERAGE
	This command calculates the average of the NON-ZERO pixels in the image and then writes this value into every pixel in the image. This allows the AVERAGE value to be easily passed into OMA Macros by using %b. We will let this still wreck the buffer for compatibility, but we will be more clever about passing results out in the command_return_N variables.
	command_return_1  Average of non-zero pixels
	command_return_2  Average of ALL pixels
	command_return_3  rms of non-zero pixels
	command_return_4  rms of all pixels

BINBYTE byte_num
	Specify the number of bytes per dataword for files to be read with GETBINARY. If byte_num is -sizeof(float), the binary data are treated as float (i.e., byte_num = -4). Other reasonable values would be 1, 2, or 4.

BINSIZE #columns #rows #header_bytes swap_bytes_flag
	Specify parameters for files to be read with GETBINARY.

BIT8 [min] [max]
	Converts the file in the OMA image buffer to have a dynamic range of 0 to 255. That is, 8 unsigned bits per pixel. This conversion is automatically done before saving the image buffer as a TIFF image. If the optional min and max are specified, they are used for the scaling rather than the min and max of the current image buffer.

BLKAVE n
	Set a flag that determines whether or not the BLOCK command sums or averages the values within the specified block. If n = 0, sum values. Otherwise, average. 

BLOCK n [m]
	Group the image data into n x m blocks. This command reduces the size of the data buffer. The values are averaged or summed, depending on the flag specified with the BLKAVE command.

BLOCKRGB n [m]
	Group the RGB image data into n x m blocks. This command reduces the size of the data buffer. The values are averaged or summed, depending on the flag specified with the BLKAVE command.

CALCALL
	Print calculations on the entire image. The average, rms, # of points, and the x and y "center of mass" are printed. The mean, rms, centroid_X and centroid_Y are passed to the command_return_variables.

CALCULATE
	Print calculations on the rectangle specified with the RECTANGLE command or with the rectangle tools. The average, rms, # of points, and the x and y "center of mass" are printed. The mean, rms, centroid_X and centroid_Y are passed to the command_return_variables.

CAMLISTSETTINGS
	[This command is only available in oma-cam. libgphoto2 must be installed.]
	Uses gphoto2 calls to list the settings of the camera that can be set, along with their current values.

CAMGETSETTING  name
	[This command is only available in oma-cam. libgphoto2 must be installed.]
	Uses gphoto2 calls to list the current value of the specified setting, along with the allowed values for resetting it.

CAMSETSETTING  name  new_setting_value
	[This command is only available in oma-cam. libgphoto2 must be installed.]
	Uses gphoto2 calls to reset the value of the specified setting to the new value. For a listing of valid setting values, use the GETCAMSETTING command.

CAMCLOSE
	[This command is only available in oma-cam. libgphoto2 must be installed.]
	Disconnects from the digital camera accessed through gphoto2.

CAPTURE file_name
	[This command is only available in oma-cam. libgphoto2 must be installed.]
	Uses libgphoto2 calls to capture and download an image from a digital camera that is recognized by libgphoto2 (and supports capture).

CCD x y
	Specifies that the detector is a CCD and therefore has an additional 80 word header preceding the data. The maximum width is x and maximum height is y.

CHANEL n
	Specifies that n channels (or columns) are to be scanned.

CLIP n
	Sets all data values in the current image buffer that are > n to n. 

CLIPBOTTOM clip_value
	For the current image, set pixels whose value is < clip_value to be equal to clip_value.

CLIPFBOTTOM clip_fraction
	For the current image, set pixels whose value is < clip_fraction*image_max to be equal to clip_fraction*image_max.

CLIPFRACT fraction
	Clip data at a fraction of the maximum value. Fraction is a real argument. 

CLOSE
	Closes the file opened with the CREATE command.

CMINMX n m
	Specifies the minimum (n) and maximum (m) values in the data that correspond to the minimum and maximum color or gray scale values. Specifying the values causes the "Auto Scale" feature to be disabled. If the arguments are not given, the "Auto Scale" feature is enabled.

COLUMN n
	Specifies that n channels (or columns) are to be scanned.

COMPOSITE <filename>
	Create a composite image by appending the data in the specified file to that which exists in the current image buffer. The width of the specified file must be the same as that of the current image. The OPENFLAG command works in conjunction with the COMPOSITE command in the same way that it does with the GET command. 

COMTMP name
	Create a composite image by appending the data in the named temporary image to that which exists in the current image buffer. The width of the specified file must be the same as that of the current image.

CONCATENATE
	Saves the current data buffer to the file opened with the CREATE command.

CORECT n
	Performs corrections on the data in the current image buffer by subtracting the background saved with the SBACK command, multiplying that result by n, and then dividing by the response saved with the SRESPONSE command. 

COSMOOTH dx dy cnt name
	Contour-smoothing: where cnt is the nominal 1/2 width of contour interval (in counts) and name is the name of file to be smoothed. Read in Rayleigh file into buffer first.

COUNT
	Count the number of distinct objects above a zero background. The original image is replaced. The maximum value is the number of objects. Try this:
	SIN 50 50  ; create an image
	DISP
	COUNT   ; count the peaks
	DISP

CLEARBAD
 	Sets pixels tagged as bad to the value of their 8 nearest neighbors. This will not work well if there are contiguous bad pixels. For that, consider using the FILBOX or FILMSK commands.

CREATE <filename>
	Opens a file with the specified name, saves the current data and format information, and leaves the file open. Subsequently, the CONCATINATE command can be used to add more data to the open file.

CROP
	Use the current rectangle to crop the image in the buffer.

CROPRGB
	Use the current rectangle to crop the (assumed RGB) image in the buffer.

CTRLST [num_pts]
	Treat the current image as a set of connected contours. Make lists of the x-y pixels that define the contour, goes clockwise, nonzero values are on the contour. After the routine is done, the original image should all be zeros. Number of closed contours varies depending on the image. num_pts is the number of points on either side.

CYLIMAGE [COPX COPY COPZ]
	Treat the data in the current image as a half cross section of a cylindrically symmetric intensity distribution. The centerline is assumed to be along the LHS of the image. An integrated image is calculated by rotating the image  about the centerline. A pinhole camera imaging configuration is assumed, with the center of projection specified by the COPX COPY and COPZ coordinates. Default values are COPX = 0, COPY = imageheight/2, and COPZ = 1.0E10.  (COPX = 0 means camera is centered, COPZ is the distance to the camera. Units for COPX, COPY, and COPZ are in pixels)

COLORFLAG [value]
	If an argument is given, the image_is_color flag is set to 0 (flag = 0) or 1 (anything else). If no argument is given, the current value of the color flag is printed. command_return_1 contains the value of the flag.

DAUTOCORR npix
	Displays autocorrelation of the data in the image buffer. The size of the autocorrelation region is specified by the PIVSIZE command. Drag the curser over the data image to choose the center of the autocorrelation region. "npix" specifies the magnification of autocorrelation window.

DCRAWARGS  [arguments]
	Allows the user to specify the arguments passed to the dcraw routine, which decodes camera raw files to OMA format. Omitting the argument lists the allowed arguments and gives the current argument settings. The filename field is ignored.

DELAY nticks
	Waits nticks/60 seconds before continuing on to the next command. Use this for rough timing operations.

DFFT npix
	Using the size specified by the PIVSIZE command, zoom in on the Fourier Transform of the area of the image centered on the cursor. "npix"  specifies the magnification of the FFT window.

DFILTER dt tmax
	Nonlinear diffusion filter -- supposed to smooth with out messing up gradients. See paper by Kaminski.

DIFFX
	Differentiate the data in the current image data buffer in the x direction. 

DIFFY
	Differentiate the data in the current image data buffer in the y direction. 

DISOFF flag
	If flag = 1, DISPLA Y commands will be ignored. This can be used to speed large batch processing macros. flag = 0 resumes normal DISPLA Y operation.

DISPLAY [string]
	Opens a window on the Macintosh screen and displays the contents of the current data buffer. The color palette used can be determined by the PALETTE command. The color minimum and maximum are specified by the CMINMX command. There can be up to 9 image windows open at one time. Windows can be resized, moved around the screen, and closed as in other Macintosh applications. If the optional string is specified, the window will be named according to the string.

DIST2N value
	Swap every pixel with distance to nearest neighbor with value <value>

DIVFILE <filename>
	Divides the data in the current buffer by the contents of the specified file.

DIVTMP name
	Divides the data in the current buffer by the contents of the named temporary image.

DMACRO [n] [command]
	Prompts the user for lines of a command macro to be executed using the RMACRO command. If the argument n is omitted, definition starts with line one. If n is specified, definition begins with the nth line of the macro. To include numerical arguments that change each time the macro is executed, %d can be inserted in the macro command at the location where the number will be placed upon execution of the macro. If "command" is not present, the program prompts for additional command lines until a null command is entered (i.e. <CR> only). If the optional "command" is included on the same line, the text of "command" replaces any command already existing at line n and no further command lines are solicited. Dummy arguments in Macros or Execute files include the following:
	%c  the number of seconds since OMA was started (float)
	%d  a decimal digit
	%s  the string specified by the STRMAC command
	%f  last file name
	%b  maximum value (big)
	%l  minimum value (little)
	%m  multiplier (the current scale factor)
	%t  current date and time
	%v  an integer value that increments by a specified amount every time it is used
	Use the VALMAC command to specify the starting value and increment.
	%e  the result of the last error code (0 means no error)
	%a  the average within the currently defined rectangle
	%r  the rms within the currently defined rectangle
	%h  the height of the current image
	%w  the width of the current image
	%x  the x pixel coordinate of the last mouse click
	%y  the y pixel coordinate of the last mouse click
	%p	Filled in with the "save data" prefix
	%q	Filled in with the "get data" prefix

DMNMX
	Displays the color min and max in the window.

DOC2RGB c1 c2 c3 c4
	Treat the image in the current image buffer as a raw document (output from the dcraw routine with options -d or -D selected) and convert it to an RGB image. This is assumed to have a 2 x 2 color matrix of R G B values in a Bayer pattern.
	c1 - c4 have values 0, 1 or 2, corresponding to red, green, and blue. For example, if Bayer Matrix is:
	G B
	R G
	c1 - c4 should be 1 2 0 1
	Appropriate values depend on the specific camera. (See the output from the GETRGB command.)

DOUT state
	Sets digital I/O bit 2 to low (state = 0) or high (state = 1) on a LabJack U12

DRGB [string]
	Opens a window and displays the contents of the current image buffer as an RGB image -- the first third of the image is taken as values for the red bit plane, the second third of the image represents the green bit plane, followed by the blue. This is the ordering of data read in from RAW or JPG images. The CMINMX command and "+" and "-" buttons in the status window work as for single-bit-plane images. 

DX n
	Specifies the number of detector pixels (not display screen pixels) to be grouped (or binned) in the X direction.

DY n
	Specifies the number of detector pixels (not display screen pixels) to be grouped in the Y direction.

DZOOM npix
	Using the size specified by the current rectangle, zoom in on an area of the image centered on the cursor. Zoom factor is npix (integer). This is good for getting a close-up of a sub-region of an image.

DZRGB  npix
	Using the size specified by the current rectangle, zoom in on an area of an RGB image centered on the cursor. Zoom factor is npix (integer). This is good for getting a close-up of a sub-region of an image. This is the color image version the DZOOM command.

ECHO string
	Prints "string" during macro execution. "string" can be replaced with any of the macro dummy arguments (e.g., ECHO %b).

ENDIF
	Terminates an IF command. This is applicable within Macros only.

ERASE [n]
	If no argument is given, all image windows currently on the screen are closed. If a value n is specified, only window n is erased.

EXECUTE <filename>
	Reads OMA commands stored in the specified file into a special execute buffer and then performs those commands. Unlike macros, these should not contain dummy numerical arguments (%d).

EXIT
	Terminates execution of a program.

EXP scale_factor denom
	Result is scale_factor*exp(data/denom)

FCALC
	Using the data in the current buffer as rayleigh input and the specified file as the fluorescence input, create the conserved scalar image.

FCCASE
	Set the information that the fcalc command returns.

FCLOSE
	Closes the currently open text file (there can be only one). The use of FOPEN, FCLOSE, and FECHO allows derived values to be written to a file from within a macro.

FCONST
	Read in constants to be used for FCALC.

FECHO %s
	Exactly as echo but instead of printing to the command window, it writes to the file opened with FOPEN. The use of FOPEN, FCLOSE, and FECHO allows derived values to be written to a file from within a macro.

FFT mode scale_factor
	mode = 0  return the magnitude scaled by scale_factor
	mode = 1   return the real part scaled by scale_factor
	mode = 2   return the imaginary part scaled by scale_factor
	mode = 3   return inverse - input is real part scaled by scale_factor
	mode = 4   return inverse - input is imaginary part scaled by scale_factor
	mode = 5  return the log of the magnitude squared scaled by scale_factor
	mode = 6  return the magnitude squared scaled by scale_factor
	mode = 7  return the autocorrelation scaled by scale_factor
	mode = 8  return inverse - input is a filter scaled by n

FILBOX
	Replace the data within the rectangle by interpolating between values on left and right of rectangle.

FILMSK <filename>
	Use the specified file as a mask to define regions of the image where data should be interpolated between values on the left and right. An example of the use for this command would be to remove particles from a Rayleigh image. The mask could be formed by finding portions of the image with large gradient, smoothing, and clipping.

FINDPEAK center start end
	Locates peak within window designated (Center, +, -).

FINDBAD Counts
	Searches the current image buffer for pixels whose value is more than "Counts" above that of its nearest eight neighbors. Those pixels are tagged as hot pixels.

FLIPHORIZ
	Flips the image in the OMA buffer horizontally

FLIPVERT
	Flips the image in the OMA buffer vertically

FLOAT variable_name
	Specifies that variable_name is to be used as a floating point variable.

FLUCTUATION n
	Calculates a fluctuation by subtracting the mean saved with the SMEAN command. If n=0, the fluctuation is calculated. If n is not 0, the fluctuation^2/n is returned. No check is made for overflow. 

FMAXHORIZ
	Scans an image horizontally. For each row, the pixel(s) holding the maximum value in that row are left alone. All other pixels are set to zero.

FMAXVERT
	Scans an image vertically. For each column, the pixel(s) holding the maximum value in that column are left alone. All other pixels are set to zero.

FOPEN <filename>
	Open a text file with the name <filename> for I/O. The use of FOPEN, FCLOSE, and FECHO allows derived values to be written to a file from within a macro.

FRAME NewWidth NewHeight [Value] [X0] [Y0]
	Put a "frame" around the current image -- making it a new size.
	Default Value is 0.
	Default of X0 and Y0 center the old image in the frame.

FRAME2 NewWidth NewHeight [Value] [X0] [Y0]
	Put a "frame" around the current image. Same idea as the FRAME command but more robust and more consistent in the definition of X0 and Y0. X0 and Y0 are the coordinates of the start of the new image in the current image's coordinate system. X0 and Y0 can be positive (will crop out some of the current image) or negative (The new image will have a border with the pixels containing the Value specified). If X0 or Y0 are not integers, the routine will interpolate pixel values. Default Value is 0. Default of X0 and Y0 center the old image in the frame.

FRDATA <filename>
	Read formatted data (in the format written with FWDATA).

FRDATMAT <filename>
	Reads the data in a delimited text file. Use this to import 2D arrays from Excel or Matlab (for example). Can also read files written with the FWDATM command. Format is a matrix of values as follows: 
	first row of data values 
	second row of data values 
	. 
	. 
	.

FREEMEMORY
	Free the memory from the background, mean, and response.

FTEMP n
	Free memory associated with temporary image n.
	n must be in the range 0-9.

FUEL ctr1 ctr2 name
	Fuel: command is "fuel ctr1 ctr2 name", where ctr1 is the fuel contour at which the Rayleigh image will be cut to form a new fuel image. ctr 2 is a different contour value to determine the scaling and offset for this shot. name is the name of the Raman image. Read the Rayleigh image file into buffer first.

FWDATA <filename>
	Writes the data in the current buffer as a tab-delimited text file. Format is as follows: 
	image_width image_height 
	1 first data value 
	2 second data value 
	. 
	. 
	.

FWDATMAT <filename>
	Writes the data in the current buffer as a tab-delimited text file. Format is a matrix of integer values as follows: 
	first row of data values 
	second row of data values 
	. 
	. 
	.

FOLD fraction new_width
    Fold an image in half vertically. It is assumed to be symmetric about some nearly vertical axis. The center of symmetry is found separately for each row, except if there are dark regions at the top and bottom of the image. For the dark regions, the average center of the middle part of the image is used as the center of symmetry. Dark regions are rows (at the top and bottom) whose values are all less than fraction*image_max. x0,y0 and x1,y1 are coordinates of the top and bottom of the dark region, center is the average center. These are returned in command_return_1-5.

GAMMA r_gamma g_gamma b_gamma
    Gamma correction. Raise the RGB components of the image to the power of 1/gamma.

GET <filename>
	Loads the data from the specified file into the current image data buffer. The "Get Data Files" prefix and suffix are used.

GETANGLE
	Calculate the angle that the current image needs to be rotated to align the x center of mass with the y axis. The region inside the current rectangle is considered. 

GETBINARY <filename>
	Read in a binary file. Use BINSIZE to specify the format of the binary file.

GETBKG
	Writes to each pixel in the image a value that is the calculated average of all non-zero pixels in the original image, PLUS 3 times the rms. The original image is destroyed. This command is useful for stripping the background values from noisy CCD's by passing this 'background' value to variables within a macro. See also AVERAGE. We will let this still wreck the buffer for compatibility, but we will be more clever about passing results out in the command_return_N variables.
	command_return_1  Average of non-zero pixels
	command_return_2  Average of ALL pixels
	command_return_3  rms of non-zero pixels
	command_return_4  rms of all pixels

GETBLUE <filename>
	Open the blue part of a digital camera RAW image specified by the filename. The extension should be given in the filename (it does not use the suffix). This uses Dave Coffin's very slick dcraw.c code. This command can also open the blue plane of ".jpg" files.

GETFILENAMES NameFile
	Open NameFile (currently uses macro prefix and suffix) which contains the names of files. The NEXTFILE command is used to open the next file. NameFile is left open until all files have been accessed.

GETFIT <filename>
	Loads an image file in FITS format into the current image data buffer. Assumes the extension is .fts (ignores the suffix in get file prefs)

GETFUNCT n <filename>
	Read in a tabulated function to be used with the LOOKUP command. This is also used in the C function tabfun(fn_number, x_val). Filename is file containing y=f(x) data pairs, preceded by number of table entries.

GETGRN <filename>
	Open the green part of a digital camera RAW image specified by the filename. The extension should be given in the filename (it does not use the suffix). This uses Dave Coffin's very slick dcraw.c code. This command can also open the green plane of ".jpg" files.

GETMATCH parameterfile
	Load the file matching parameters contained in the text file "parameterfile". The format of the file is as follows:
	x1_ref y1_ref x1_i1 y1_i1 x1_i2 y1_i2
	x2_ref y2_ref x2_i1 y2_i1 x2_i2 y2_i2
	image1_width image1_height
	image2_width image2_height
	Note that there is no prefix added to the file name.

GETPIC <filename>
	Opens an image file in PICT format. It is not automatically moved to the image buffer. Use GWINDO if you want this. NOT IMPLEMENTED IN VERSIONS BEYOND 2.0.6 

GETRED <filename>
	Open the red part of a digital camera RAW image specified by the filename. The extension should be given in the filename (it does not use the suffix). This uses Dave Coffin's very slick dcraw.c code. This command can also open the red plane of ".jpg" files.

GETRGB <filename>
	Open a digital camera RAW image specified by the filename. The extension should be given in the filename (it does not use the suffix). The red, green, and blue images are staked one on top of the other in a single image. This uses Dave Coffin's very slick dcraw.c code. This command can also open ".jpg" files.

GETSETTINGS [filename]
	Gets settings from the specified file (uses the appropriate prefix and suffix specified in the preferences). If no filename is given, OMA Settings from within the oma application are loaded. 

GHDR [filename]
	Gets an HDR (high dynamic range) image from the specified file (uses the appropriate prefix specified in the preferences; no suffix is used, so include the file extension in the file name).  

GMACRO <filename>
	Loads the contents of the specified file into the current macro buffer.

GNOISE mean rms [seed]
	Gaussian deviate generator using built-in random-number Generator followed by Box-Muller transform

GRAD2
	Find the magnitude of the gradient of the data in the current image buffer. Use the current pixel and the one next to it for gradient.

GRADIENT
	Find the magnitude of the gradient of the data in the current image buffer. Use 2 pixels on either side of current pixel for gradient.

GRADPK n
	Determine gradient magnitude from 4 points at a distance n from center pixel.

GSMOO2 dx [dy]
	Gaussian Smoothing of the Data. dx and dy are the smoothing size parameters. If dy is omitted, it is taken as dx. dx and dy must be odd. sigma_x = (dx-1)/6.0

GSMOOTH dx [dy]
	Gaussian Smoothing of the Data. dx and dy are the smoothing size parameters. If dy is omitted, it is taken as dx. dx and dy must be odd. sigma_x = (dx-1)/3.5

GTEMP name
	Get temporary image that has been previously saved using STEMP.

GTIFF <filename> [n]
	Loads the file specified in 'filename' into the OMA image buffer. Three-plane, 8-bit per pixel images can be loaded (use DRGB for color display). Files up to 1-bit grey scale can be read. The optional argument [n] (default=0) specifies the page number (IFD) of the image to be read from TIFF files that have more than one image within a file. The first IFD is number 0.
	The number of samples per pixel is returned as variable command_return_1.

GWINDO
	Moves the contents of the current display window into the image data buffer. This can be used to get an OMA data representation of images available as a Macintosh graphics window. The resulting values will be in the range 1-251.

HELP [command name or fragment]
	If a command name is given, a brief explanation of the command is printed in the command window. If only part of the command is given, a description of all commands that match the command fragment is printed. All help information is from the file "OMA HELP." If no argument is given, all command names are printed with no explanation.

IF condition
	If condition evaluates to a non-zero value, the commands following the IF are executed. However, if the condition is zero, the commands between IF and ENDIF are not executed. The condition can be any arithmetic statement and can include logical operators < (less than), > (greater than), others to come....

IFDEFINED variable_name
	If the specified variable_name is defined, the condition is satisfied, and the macro commands following the IFDEF command will be executed.

IFEXST <filename>
	If the specified filename exists, the condition is satisfied, and the macro commands following the IFEXST command will be executed. 
	Note: the SAVE prefix and suffix are applied to the filename before the test is done.

IFNDEFINED variable_name
	If the specified variable_name is not defined, the condition is satisfied, and the macro commands following the IFNDEF command will be executed.

IFNEXS <filename>
	If the specified filename does not exist, the condition is satisfied, and the macro commands following the IFNEXS command will be executed. 
	Note: the SAVE prefix and suffix are applied to the filename before the test is done.

IMACRO n
	Used for setting or clearing a flag which determines whether or not an executing macro can be interrupted (using "cmd ."). If n = 0, interruption is not allowed. If n is non-0, it is. This can be used from within a macro to ensure that certain sequences of commands are complete before stopping the macro. (e.g., to be sure that the camera shutter is closed.)

IMPOWR scale_factor <filename>
	Raise the current image to a power specified by a second image in a file. The power is the value in the second image divided by the scale factor.

INCMACRO n
	Specifies that on each execution of a macro, values should be incremented by value n.

INTEGRATE direction_flag selection_flag do_average
	Sum up the data in the horizontal ( direction_flag=0 ) or vertical (direction_flag=1) direction. The two-dimensional image becomes a single line. If selection_flag=1, the subset of the image specified by the selection rectangle is used. Possible cases are:
	direction_flag = 1 The result is an array in x; sum in y direction
	direction_flag = 0 The result is an array in y; sum in x direction
	selection_box = 1 A selection box specifies what region to sum
	selection_box = 0 Sum all channels or tracks 
	do_average = 1 Average along the integrate direction (divide by box size in integration direction)
	do_average = 0 Just sum, don't average

INTFILL direction_flag selection_flag
	As above, but a two-dimensional image is formed by duplicating the  summed values. 

INTVARIABLE variable_name
	Specifies that variable_name is to be used as an integer variable.

INVERT
	Inverts the image in the current image data buffer, causing the first data point to become the last data point.

JFCALC
	Using the data in the current buffer as Rayleigh input and the specified file as the fluorescence input, create the conserved scalar image.

JFCONS
	Read in constants to be used for FCALC.

JFSTRIPE
	Get a stripe response for the image -- j. frank algorithm.

KILBOX [value]
	Much like FILBOX, this command works on the region of the image that has been specified with the RECT command or mouse. The contents of this region are set to 'value'. Default for 'value' is 0.

KINTEGRATE
	The same as the "Plot Integrated" menu item. 

KLIMIT flag
	Set the printing flag. If flag = -1, turn off printing but save old status. If flag = -2, restore old status. Other values turn printing on. Cmnd L toggles limited printing.

KPCTR
	The same as the "Plot Contours" menu item. It causes the data in the current buffer to be plotted according to the information in the "Set Contours" menu item.

KRECSV <filename> 
	Saves a subset of the current data buffer in a specified file. The subset is specified by the current selection rectangle. 

KRRGB <filename> 
	Saves a subset of the current rgb data buffer in a specified file. The subset is specified by the current selection rectangle.

KWABEL n
	Uses analytic evaluation of integral required for abel inversion, which involves a lot of evaluations of ln(x). n is a scale factor for the image.

LABJAK
	Performs a test on a Labjack U12 USB multifunction digital/analog I/O device.

LINCALC
	Calculate line outs specified by the current Line Out Template using the data in the current image buffer. Line Outs calculated previously are discarded.

LINE
	Set all pixels in the specified row of the current image to 1.

LINGET n [multiplier]
	Move the nth Line Out (calculated by LINCAL) into the current data buffer. The previous contents of the data buffer are lost. Since the integrated data may be larger than allowed by the 16 bits of the image buffer, appropriate scale factors are calculated. If the optional multiplier is included, the results are multiplied by that factor before being moved to the data buffer. This could be used to retain small differences that might be lost when normalization is done. (See LINORM command.)

LINORM flag
	If flag = 1, then the results returned by LINGET are normalized to the number of lines integrated over. If flag = 0, no normalization is done.

LINSSB n filename
	Save the nth Line Out subregion in a file with the specified name.

LINSTATS
	Print statistics (ave., rms fluctuation, etc.) for the regions specified in the current Line Out Template.

LIST 
	Lists the current detector parameters and log block.

LMACRO 
	Lists the contents in the current macro buffer.

LN scale_factor
	Take the natural log of the data in the image buffer. Scale the result by scale_factor.

LOG [n] [comment]
	Adds a comment to the comment buffer at line n. If n is not specified, the comment is added to the beginning of the comment buffer. If "comment" is not present, the program prompts for additional comment lines until a null comment is entered (i.e. <CR> only). If the optional "comment" is included on the same line, the text of "comment" replaces any comment already existing at line n and no further comment lines are solicited.

LOOKUP fn_number 
	Redefine the current image using the lookup table specified by a tabulated function. Use GETFUNCT n filename before using this command. Ignore scale factors for now.

LOOP variable_name start end [step]
	Initializes a loop. The variable_name can be any string of reasonable length. The variable takes on the initial value specified by "start" and the commands within the loop are repeated until the variable is >= "end". ( or <= "end" if step < 0) If step is not specified, a step of 1 is assumed. The end of the loop is specified by the LOOPND command. Each LOOP must have a corresponding LOOPND. To access the value of a loop variable, precede variable_name with "@" For example:
	loop fnum 2 10 2
	get data@fnum
	disp
	loopnd
	.
	.
	Note: To signify the end of a variable name when it is followed by other characters, use a '\' character. For example:
	loop fnum 2 10 2
	get data@fnum\_corrected
	disp
	loopnd

LOOPBREAK
	Break out of current loop.

LOOPND
	Specifies the end of a loop initiated with the LOOP command.

LTEMP 
	List defined temporary images.

LTLOAD <filename>
	Open a Line Out Template file with the specified name.

LTSAVE <filename>
	Save the currently defined Line Out Template in the specified file.

LABEL text_string
	Display the text_string in the upper left of the current window.

MACRO [n m]
	Like "RMACRO [n m]" except that printing of intermediate output is automatically suppressed.

MAKNEW n m
	Change the resolution of the data in the current data buffer to be n x m pixels. Linear interpolation is performed. 

MAKPIV no_of_points
	Randomly generate a piv particle image. no_of_points is how many point in the image. Max (and default) is 20,000.

MAKPSZ
	Crops an image to an appropriate size for PIV. Uses the values of PIVSIZE and PIVINC to trim away edges that would be ignored by PIV processing

MASK width height
	Make a "mask" for inverse fft operations. The central region of the current image with the width and height specified will be set to 1. The area around the central region is set to 0. (See FFT command option 8.)

MATCH image2_data_file
	This command is used to create matching image pairs from images taken with different magnification, displacement, and rotation. The first image is assumed to be in the current image buffer. "image2_data_file" specifies the name of a file containing the second image. The necessary image matching parameters are stored in an ASCII text file and must be loaded with the GETMATCH command prior to executing the MATCH command. The command creates two new images and stores them in files named Match_1 and Match_2. Image 1 should be the lower resolution of the two.

MAX 
	Prints the minimum and maximum of the data in the current data file.

MCALX
	Using the data in the current buffer as Rayleigh input and the specified file as the fuel input, create the conserved scalar image.

MCONST
	Read in constants to be used for MCALX.

MIRROR
	Form a left-right mirror image operation on the data in the current data buffer. 

MULFILE <filename>
	Multiplies the contents of the current data buffer by the contents of the specified file.

MULTMP name
	Multiplies the contents of the current data buffer by the contents of the named temporary image.

MARKPIXEL x y
	Display an X centered at pixel x, y.

NAN2ZERO
	This command filters the Image buffer, PIV buffers and Temp image buffers. If a Pixel or Vector contains a 'not-a-number' (nan) then the pixel(s) and/or vector(s) are set to zero.

NEWWIN flag
	If flag = 1 (default), a new window will be opened for each "DISPLAY" command. There can be a maximum of 9 graphics windows open at one time. If there are already 9 windows open on the screen, subsequent graphics commands will close the oldest window before opening a new one. If flag = 0, the results of "DISPLAY" commands will be placed in the last-opened window. If no window exists, a new one will be opened. If the size of the last-opened window is not appropriate for the current scan parameters, the last-opened window will be closed and a new window opened with the correct size.

NEXTFILE [prefix]
	Open the next file specified in the FileNames file that was opened with the GetFileNames command. If a prefix is specified, that is added to to the name before trying to open the file. command_return_1 is the the filename without any prefix and without the extension (last 4 characters).

NOISE average rms [seed]
	Creates a noise image with the specified average and rms.

OF2PIV scale_factor average_flag x_vel_file y_vel_file
	Convert optical flow images into PIV vectors Reads in OMA image formats for x and y velocities Use PIVINC and PIVSIZE to determine how often to plot a vector Scale factor can be float. Average flag (integer) is 0=off 1=on.

OPENFLAG flag 
	flag=1 specifies that files opened with the GET and COMPOSITE commands should not be closed after the first data set is read in, but left open. Subsequently, GET or COMPOSITE commands can be executed with no argument, causing the next in a series of images stored in the single file to be read into the data buffer. flag=0 disables this option and is the default mode.

PAIRLS
	List dx dy and magnitude for pairs.  Points must first be generated via the POINTS command and pairs generated via the PAIRS command.

PAIRPR
	Process pair statistics for an entire image. Assumes that matching PIV and POINT have already been calculated (e.g., via the PIV and POINTS or PNTMOSAIC commands). Prints out statistics corresponding to pairs for each velocity vector.

PAIRS dx dy radius
	Find pairs of particles separated by dx, dy (to within radius) assumes arrays exist that contain image points and that the points lie within the bounds of the current image. The rectangle is changed to correspond to the entire image.

PALETTE n
	Specifies that the nth predefined color palette should be used. Palette 0 is a color palette; 1 is a gray-scale palette.

PARSE <filename>
	Reads in a TECPLOT vector file from PIVView and converts to an OMA PIV field.

PAUSE [pause_string]
	When executed in a macro, the PAUSE command causes macro execution to be suspended until a key on the keyboard is pressed, at which time the macro will continue execution. If the optional pause_string is included, it will be echoed to the right of the Macro # in the status window. The pause_string can contain variable names or %d type dummy arguments that will be filled in before echoing the string. To terminate a paused macro, type <cmnd period>.

PDFDO flag
	1-D pdf command. Command sequence would be
	pdfsiz 0 1000 100 1  ; 100 bins data values from 0 to 1000
	                      ; exclude values outside the range 0 - 1000
	...load an image.....
	pdfdo 0  ; add all points in the current image to the pdf accumulator
	pdfdo 1  ; get the pdf accumulator

PDFIT
	Use 2-D fit (hardwired for now) to calculate a scalar from P and D image
	Arguments:
	Depolarized file name
	Rayleigh-cts in air
	Depolarized-cts in air
	Scale factor for new image
	flag: 1 for calculating T, 2 for calculating [CH4], else: xi

PDFSIZE pdfstart pdfend pdfbins [pdf exclude flag]
	Setup for the 1-D PDFDO command. Default for "pdf exclude flag" is 0.

PEAK #_to_print sum_area exclude_radius

PEAKIMAGE peakval sum_area exclude_radius
	Replace the image data by a peaks only image. Points greater that peakval are included.

PIV- dx dy
	Subtract a constant vector from the currently loaded vectors.

PIV sum_area exclude_radius

PIV* scale
	Multiply the currently loaded vectors by a scale factor.

PIV/ scale
	Divide the currently loaded vectors by a constant. 

PIV+ dx dy
	Add a constant vector to the currently loaded vectors.

PIVABS
	Returns the absolute value of all components in a PIV Field. Note that this only affects the top (visible) layer of vectors and does NOT alter the underlying, alternate peaks. 

PIVADD <filename>
	Add vector file to currently loaded vectors.

PIVALTER flag
	Alter a point calculated by the PIV command. If flag is not 0, turn on alter mode. Interactively shuffle through different peaks. To change a vector, point at the plotted arrow. Rotate a all others up one position.

PIVANG value
	Strip bad vectors out of a PIV image by checking that it's angle does not differ too much from those around it. The value is a deviation in degrees (15 is the default).

PIVAVG
	Calculates average vector over entire vector field.

PIVBAD mag angle replace_flag
	Remove vectors which deviate more than mag in magnitude and angle in angle from those in immediate neighborhood. replace_flag = 1 means put in average of surrounding for bad vectors

PIVBIG
	Kind of does what PIVMAX used to do. It returns the 3 components of the maximum visible (top) vector to the Command Window.

PIVC-
	See PIVC+

PIVC* factor
	Conditional PIV arithmetic. Multiplies all NON-ZERO vectors by the scale factor specified in the command line. Only affects the visible (top) vectors.

PIVC/
	See PIVC*

PIVC+ xcomp ycomp
	Conditional PIV arithmetic. Adds the X & Y components specified in the command line to each NON-ZERO vector in a buffer. Only affects the visible (top) vectors.

PIVCNV
	Convert Pixels/Delay to m/s using parameters from dialog.

PIVCRS
	Cross correlation PIV command. The second image is stored in the background image (use the "SBACK filename" command).

PIVDIRECTION
	Alter PIV vectors to orient vectors in preferred direction (as set by PIVSET command).

PIVDIVIDE
	Divide the currently loaded vectors by the scalar image in the current buffer. This could be used to do conditional averages -- the number of points in the scalar field would be the same as the number of vectors.

PIVDOT
	Dot product of PIV buffer with PIV in file.

PIVEXE
	Execute throughput PIV processing algorithm. (see EXECUTE command).

PIVFILL
	Interpolate zero vectors in field from neighbors.

PIVFLH
	Flip the PIV Field in the OMA PIV buffer horizontally. This transformation is applied to all the peaks in the image, including the visible vectors.

PIVFLV
	Flip the PIV Field in the OMA PIV buffer vertically. This transformation is applied to all the peaks in the image, including the visible vectors.

PIVFTR
	Filter PIV based on local neighborhood mean.

PIVGET <filename>
	Load PIV data from file.

PIVINC
	Specify the increment (in pixels) between successive samples in the PIV command.

PIVLST
	List the current PIV data.

PIVM*
	Each vector in the PIV buffer is multiplied by a scalar variable equal to the value of the corresponding pixel in the OMA Image buffer. Only affects the visible (top) vectors.

PIVM/
	Each vector in the PIV buffer is divided by a scalar variable equal to the value of the corresponding pixel in the OMA Image buffer. Only affects the visible (top) vectors.

PIVMAG accuracy
	Kill any vector in image whose magnitude differs from the neighborhood average.  accuracy is the threshold of accuracy for vector comparison; 0=different; 1.0= identical; default is accuracy = 0.65.

PIVMAX
	Specifies the maximum allowed length of vectors in a PIV Field. Vectors longer than this limit are set to zero. Only affects the visible (top) vectors.

PIVMIN
	Specifies the minimum allowed length of vectors in a PIV Field. Vectors shorter than this limit are set to zero. Only affects the visible (top)  vectors.

PIVMSG
	Massage PIV data. Auto correct a PIV image This is done using an iterative application similar to that using PIVALT  mode 3.

PIVMULT
	Multiply the currently loaded vectors by the scalar image in the current buffer. This could be used to apply a mask (scalar image with 1's and 0's) to the vector field.

PIVPLT scale 
	Plot the current PIV data. Scale vectors by scale (float).

PIVREFORMAT cp np
	Reformat piv data to have cp as center pixel, np peaks

PIVRMV [deviation_magnitude deviation_angle set_avg_flag] 
	Try to remove bad vectors -- those with deviation > given. Set bad vectors = 0.0 or replace by local avg if requested.

PIVRND dx dy pix_value num_pairs
	Generate a simulated double-exposure PIV image.

PIVROT
	Rotate the PIV Field by 90 degrees clockwise. The Vectors are also rotated 90 degrees, swapping X & Y components. Four PIVROT will leave the original image unchanged.

PIVSAVE <filename>
	Save current PIV data to file.

PIVSET
	Set values of constants used in the PIV command.

PIVSHT [exrad]
	Remove vectors shorter than exrad.

PIVSIZE
	Specify the size of fft done in the piv command.

PIVSQRT
	Get square root of each component of the currently loaded vectors.

PIVSUB <filename>
	Subtract vector file to currently loaded vectors.

PIVSUC <filename>
	Subtract vector file: only do subtraction from vectors in currently loaded vector field.

PIVUODETECT
	 PIV command that implements the Universal Outlier detection algorithm of J. Westerweel and F. Scarano "Universal Outlier Detection for PIV data" Experiments in Fluids [39]:1096-1100 (2005).

PIVX
	Extract the x-component.

PIVX2Y
	Writes the X-component of the visible vectors into the Y-component so that both are identical. 

PIVY
	Extract the y-component.

PIVY2X
	Writes the Y-component of the visible vectors into the X-component so that both are identical.

PIXSIZE n
	Specifies the number of pixels on the Macintosh screen that will be used to represent each data word in the current image buffer. PIXSIZE 1 associates one Macintosh screen pixel with one data point. For n positive, PIXSIZE specifies that n pixels are to be used for each data point. If n is negative, a reduced picture is displayed with only every nth data point from the image data being displayed as one Macintosh pixel. (Good for large pictures and small screens.)

PIXVALUE x y
	Prints the value of the pixel at location x,y (i.e, at column x and row y). The upper left of an image is at 0,0.
	command_return_1 is the value.

PMACRO n 
	Executes commands in the current macro buffer with "%d"s being replaced by the value n.

PNTIMG 
	Replace the image data by a points only image. Points must first be generated via the POINTS command.

PNTMOSAIC scale
	Find the points (particle images usually) in a large image. The large image is treated as a mosaic of smaller images (size specified by PIVSIZE). As in POINTS, the centroids of connected areas are found, along with integrated intensities and areas. This information is stored in memory. The clipvalue is determined as fraction of the range in each subimage. For example, a scale of 0.5 would use 50% of the largest peak height within the subimage as the clip value. Use the PIVSET command to enable the histogram clipping feature to exclude erroneous minimum and values.

POINTS clipval
	For those points greater than clipval, the centroids of connected areas are found, along with integrated intensities and areas. This information is stored in memory.

POLARN
	Custom function by pkalt used for polaristion processing.

POPULN <filename> 
	Creates a CSV (Comma Separated Value) file named 'filename' of the histogram of values appearing within in an image. Creates 1024 bins, many of which will be zero if the image has less than 1024 discrete values.

POSITVE
	Sets all negative values in the image buffer to 0.  Positive values are unaffected.

POWER y
	Raise the data in the current image buffer to the power y (float). 

PREFIX [fileprefix] 
	Specifies a "prefix" to be added to all filenames accessed through keyboard commands. This can be used to specify a default "/disk/ folder/subfolder/". If no prefix is specified, the folder containing the oma program is the used as the default directory.

PRFLAG flag
	If "flag" is set to 0, no printing will be echoed to the command window. 
	If "flag" is non-zero, printing is controlled as normal.

PRIMG type
	Replace the image data by a point-pair image. Points must first be generated via the POINTS command and pairs generated via the PAIRS command. Type = 0 assigns inten/area. Type = 1 assigns total inten. Type = 2 assigns ratio of intensities.

PRINFO
	Provide info on point pairs. Points must first be generated via the POINTS command and pairs generated via the PAIRS command.

RAMP
	Fill current image with a ramp from 0 to the number of number of channels.

READBAD filename
 Read in bad pixel data from a text file.
	Format is:
	# of bad pixel
	detector_width	detector_height
	bad_pix1_x
	bad_pix1_y
	bad_pix2_x
	bad_pix2_y
	.
	.
	.

RECTANGLE ulx uly lrx lry
	Specify a rectangle that calculations are to be done on. The arguments are upper left x coordinate; upper left y coordinate; lower right x; lower right y.

RECTCENTER n m
	Select rectangle of size n x m about center of image.

-RGB x y z
	Subtract x from the red, y from the green, and z from the blue part of the current (assumed RGB) image in the buffer.

RMACRO [n m] 
	Starts executing commands in the macro buffer with %d being replaced first by value n. Subsequently, n is incremented by the amount specified in the INCMACRO command (default is 1). If the new numeric value is equal to m, the macro will be executed again. Menu items can be selected and the appropriate commands executed during macros. Commands typed during the execution of a macro will be echoed to the terminal but not performed. To stop a macro during execution type "cmd ." (hold down the apple key and type ".")

RNDOFF
	Round the DATAWORD values Down to the nearest integer value.

RNDUP
	Round the DATAWORD values UP to the nearest integer value.

ROTATE [value]
	Rotates the data in the current image buffer.  If no value is specified, the image is rotated by 90 degrees. If a value is specified, the image is rotated by the specified number of degrees (this may be a real number).

ROTRGB [value]
	Rotates the color data in the current image buffer.  If no value is specified, the image is rotated by 90 degrees. If a value is specified, the image is rotated by the specified number of degrees (this may be a real number).

ROTCRP rotation_angle
	This command does the following operations using other internal routines
	1) rotate the existing image by "rotation_angle".
	2) crop the rotated image to be so that no "filled" pixels are present (will be smaller than original).

ROW n
	Specifies that n tracks (or rows) should be read from the detector.

RULER [numpix] [numunits] [unit name] 
	Can be used to specify the number of pixels that correspond to a length unit. "numpix" and "numunits" are both floating point arguments. An optional string can be included to define the units (e.g., "mm" or "feet"). If no arguments are given, the current scale factor will be printed. The scale factor defined with the RULER command is used (1) when printing lengths using the ruler tool in the status window, (2) when reporting contour lengths generated by the "Plot Contours" menu command, and (3) when reporting the x and y "center of mass" using the calculate rectangle tool in the status window. Scale factor info is saved with data files and will be reloaded automatically when the files are retrieved. To "un-define" a ruler, give only one argument.

RYCALC <filename>
	Using the data in the current buffer as rayleigh input and the specified file as the fluorescence input, create the conserved scalar image.

SATIFF <filename> 
	Converts the contents of the OMA Image buffer to 8 bit unsigned data and then uses the LibTIFF TIFFWriteEncodedStrip function to save the data to a TIFF image specified on the command line. The 'save' file prefixes are used. A ".tif" extension is automatically appended to the filename. To save as a color image, use the COLORFLAG command to set the flag appropriately.

SATIFFSCALED min max <filename>
	Convert image to 16 bit and save as a TIFF file. Uses the specified min and max for scaling rather than the min and max of the image in the buffer. Results will be between 0 - 65535. Depending on min and max, the image may be clipped or the full 16-bit dynamic range may not be used. To save as a color image, use the COLORFLAG command to set the flag appropriately.

SAUTER <filename> <Factor>
	Do a division of LIF and MIE images using floating point arithmetic. 
	<filename>   name of file to act as the denominator
	<Factor>   scales the resulting image by this amount

SAVE <filename> 
	Saves the current data buffer to the specified file.

SAVPDF <filename> 
	Saves the contents of the active window to a pdf file. This works for false color as well as linegraphics windows. 

SAVSETTINGS [filename]
	Saves the current settings to the specified file (uses the appropriate prefix and suffix specified in the preferences). If no filename is given, OMA Settings are saved within the oma application. 

SBACK
	Save the data in the current data buffer as a background to be used by the CORECT command. 

SBIG command_string [parameters]
	[This command is only available in oma-cam. The SBIG drivers must be installed.]
	command_string specifies the SBIG command (listed below).
 	Only the first 3 characters of SBIG commands matter.
 	The values for parameters depend on the particular command.
	.
 	SBIG command_strings:
 	.
 	EXPosure exposure_time
		Specify exposure_time in seconds. Does not take an image.
	.
	 FILter
		 Specify which fillter to use.
	.
	 TEMperature
		 Specify set temperature of the CCD in degrees C.
	.
	 DISconnect
		 Close the device and driver.
	.
 	STAtus 
		 Print out CCD info, temperature, exposure, etc.
	.
	 ACQuire 
		Get an image using the current settings.

SCALC center start end findpeak
	Spectra Calc - locates peak and centers on it of findpeak != 0. SCALC requires estimate of peak location, the + and - limits and whether to locate the peak (1, default) or not (0) : e.g., SCALC 179 -5 +5 1

SCALC1 center start end refpeak 
	SCALC requires estimate of peak location, the + and - limits and a reference peak e.g., SCALC1 203 -5 +5 203

SCATTER xsize ysize xmin xmax ymin ymax 
	Displays a scatter plot from first and second half of current image. Size of scatter plot is specified by xsize and ysize. Bin size is determined by the min and max values of each half.

SERCLOSE
	Closes the serial port opened with the last "SERIAL device_name" command. This can be used if you need to talk to more than one serial device -- open device 1, send commands, close the serial port, open device 2, send commands, and so forth.

SERIAL device_name (or character_string)
	Provides a simple way of sending text strings to a serial device. For example, a KeySpan USB to serial converter can be used to control a variety stepping motor controllers, spectrographs, etc. The device name should be something like "/dev/tty.KeySpan1" Note that upper/lower case matters on these specifications. Look in the "/dev" directory to find the name of your specific hardware. After opening the device with the first SERIAL command, subsequent SERIAL commands will send across the specified character_string, followed by a <CR>. This uses standard POSIX calls.

SFORMT n
	Save the current camera format as format n. n is in the range 0-7.

SHELL shell_command
	Opens a pipe to a shell and sends along the command. Output from the command is echoed to the command window.

SHIFT 
	Shifts the current image by an amount determined by the current PIV field. Useful for sub-pixel matching between images. (Uses 8-parameter bilinear method). Does this between each node of the PIV field. <Screws up the edges if the PIV field is significantly smaller than the image in the buffer.> Works nicely if the PIV field and image are the same size with no unused edges at the edge.

SHOTNOISE [seed]
	Treat the data as counts and add random root N noise to the data. Can specify an optional random number seed if desired.

SINGRD
	Draw grid from the sine function.

SINKPK [radius no_of_flags]
	Is the pixel likely to be a local minima?

SIT 
	Specifies that the data format is that appropriate for the SIT vidicon detector. Image data is stored to files in 1s complement format. There is no 80 word header at the beginning of the data area. This option is included for compatibility with previous SIT data sets.

SMACRO 
	Saves the contents of the current macro buffer to a specified file. SMACRO is also used to save commands to be used with the EXECUTE command.

SMEAN
	Save the data in the current data buffer as a mean to be used by the FLUCTUATION command. 

SMEAR amount
	Process pixels > 0 by the specified amount (float). Negative values are set to 0.

SMOOTH [n,m] 
	Performs an n x m smoothing operation on data in the current image buffer.  If only n is specified, an n x n smoothing is done; with no argument, a 2 x 2 smoothing is performed.  For the smoothing operation to be perfectly centered on each data point, the arguments must be odd. For Gaussian smoothing, use GSMOOTH.

SOLGB <filename>
	Get a Yale laminar flame calculation.
	Read in binary numbers for a single variable. Assumes solget has been read in first. Use SOLMAKE to get the image.

SOLGET <filename>
	Get a Yale binary laminar flame calculation.

SOLGF
	Read in a string of formatted numbers for a single variable. Assumes solget has been read in first. Use solmak to get the image.

SOLMAKE x0 y0 x1 y1
	Make an image from the solution read in SOLGET.  x0 y0 x1 y1 are floating point numbers that specify the sub rectangle of the solution. current ruler determines the resolution. command-return: species multiplier (float)

SOLMULT snum mult moleflag
	Specify the species_number, multiplier, and mole_fraction_flag to be used in SOLMAKE 

SPEX command_string [parameters]
	command_string specifies a SPEX command.
	The values for parameters depend on the particular command.
	Commands are as follows:
	INIT  initialize the spectrometer
	GRATING  set the grating (in nm)
	SLIT  set the slit width (in microns)
	VERSION  echo software version

SQRT
	Take the square root of the data in the current image buffer.

SQUARE
	Square the data in the current image data buffer. 

SRESPONSE
	Save the data in the current data buffer as a response to be used by the CORECT command. 

STEMP name
	Save current image as temporary image with specified name. The name can be 0-9 or a text string beginning with a lower case letter. This can be retrieved with GTEMP.

STREAM x0 y0 scale_factor
	x0 y0 is the starting location of the ray that will be propagated mainly in the x direction. The two components of the velocity field are needed. The y velocity is stored with SBACK; the x velocity field is in the current image buffer. On return, the image is zero except for the stream line. Values along the stream line correspond to elapsed time as determined by the scale_factor. time = distance/velocity*scale_factor. Distance is in pixels; velocity as per values in velocity files.

STRIPE start_col end_col rotation_angle [ave_value] 
	This command does the following operations using other internal routines
	1) rotate the existing image by "rotation_angle".
	2) crop the rotated image to be so that no "filled" pixels are present (will be smaller than original). 
	3) divide each row of the image by the average of the pixels between start_col and end_col. If ave_value is not specified, the average of the region inside the box will be used.

STRMACRO string
	Specifies that "string" is to be substituted for any "%s" found in macro or execute commands. If no string is specified, the current string is printed.

STRTIM x0 dy scale_factor
	This plots a series of streamlines in the image (similar to a loop containing STREAM commands). x0 is the starting location of the ray that will be propagated mainly in the x direction. dy is increment between rays and can be less than one pixel if a continuous "time elapsed" image is desired. When more than one elapsed time occurs within a given pixel, the minimum value is given. The two components of the velocity field are needed. The y velocity is stored with SBACK; the x velocity field is in the current image buffer. On return, the image is zero except for the stream lines. Values along the stream line correspond to elapsed time as determined by the scale_factor. time = distance/velocity*scale_factor. Distance is in pixels; velocity as per values in velocity files.

SUBFILE <filename>
	Subtracts the contents of the specified file from the data in the current buffer.

SUBSAMPLE n [m]
	Sub-sample the current image, keeping every n-th and m-th pixel and discarding the rest. This command does not do any interpolation (as MAKNEW does) or pixel summing (as BLOCK does). If m is omitted, it is taken equal to n. 

SUBTMP name
	Subtracts the contents of the named temporary image from the data in the current buffer.

SUFFIX [filesuffix] 
	Specifies a "suffix" or extension to be added to all filenames accessed through keyboard commands. If no suffix is specified, a null suffix is used.

SWAPBYTES flag 
	The SWAPBYTES command sets or clears a flag that determines if the GET and SAVE commands swap byte order on data read in or saved. This is included for cross-platform compatibility between Mac and Intel worlds. The flag should normally be set to 0 unless you are migrating data from one platform to another. This only affects GET and SAVE -- all other commands that use files leave the byte order alone.

SWAPIX old new
	This command goes through an image and swaps all occurrences of pixels with the value ='old', to now hold the value ='new'.

STOP_ON_ERROR flag
	If flag = 1, macro or execute commands will stop on error conditions. If flag = 0 (default) execution will continue. 

TECPLT <filename> 
	Exports the currently loaded PIV image to a text file called 'filename', in a format readable by the TecPlot graphics program.

TRACE y0 angle factor
	Ray trace across the image continuous. Image interpreted as local index of refraction. y0 is the starting location of the ray. If y0 is positive, a single ray is drawn. If y0 is negative, it is taken as an increment, and many rays are traced across the image. e.g., y= -5 would trace a ray every 5th pixel. y0 = -0.1 would trace 10 rays across  each pixel over the entire image. Angle is the initial propagation direction (in radians, 0 is horizontal). Factor is the amount that the data are divided by in calculating the index (index = 1.0 + signal/scale_factor).

TRACE2 y0 angle index2
	Ray trace across contour lines.

TRACKS n
	Specifies that n tracks (or rows) should be read from the detector.

TRACOR y0 angle factor smooth
	Column-wise ray trace across the image. Image interpreted as local index of refraction. y0 is an increment between consecutive rays. 
	y0 = 5 would trace a ray every 5th pixel.
	y0 = 0.1 would trace 10 rays across  each pixel over the entire image.
	Angle is the initial propagation direction (in radians, 0 is horizontal). Factor is the amount that the data are divided by in calculating the index (index = 1.0 + signal/scale_factor). smooth is the amount a column is Gaussian smoothed before being projected forward.

TRACPT 1/f# dtheta scale_factor
	Ray trace from a point in the center-left of the image, through an ideal lens near the center of the image. The continuous image is interpreted as local index of refraction (index = 1.0 + signal/scale_factor). The inverse f# determines the angle over which rays from the point will be traced. dtheta (in radians) determines the increment between rays (smaller = more rays). Factor is the amount that the data are divided by in calculating the index.
	(index = 1.0 + signal/scale_factor).

TRPDF pix_inc angle scale_factor pix_offset num_bins bin_width
	Ray trace across an image and return the pdf of pixel displacements. The continuous image is interpreted as local index of refraction (index = 1.0 + signal/scale_factor). pix_inc an increment between successive traces (floating pt); pix_offset is how far away to stay from the top and bottom of the image; angle is the initial propagation direction (in radians, 0 is horizontal); num_bins is the number of bins in the returned histogram; bin_width is the bin width.

TSMOOTH
	Smooth radius based on x_dim = Temp[0], y_dim = Temp[1]
	This is a function that enables (Rectangular) smoothing of an image, with variable filter size. It works basically like SMOOTH 13 13, say, but it takes the x_dim and y_dim locally based on the values in the  Temporary buffers T[0] and T[1]. It has been used to variably smooth an image based on the local length scale which was modelled. 

UFORMT n
	Restore camera format n previously saved using the SFORMT command.

UPREFX type 
	Force use of prefix/suffix specified by 'type.' Possible cases for 'type' include the following: 
	s   Use Save File prefix and suffix 
	g   Use Get File prefix and suffix 
	d   Use Default prefix and suffix

VALMACRO [Startval Incval]
	Resets the %v value to "Startval" (0 is default) with an increment of "Incval"

VARIABLES
	Lists currently defined variables and their values. Variables are defined using simple arithmetic expressions, such as
	my_var = 10
	or
	y = my_var*2
	The values of variables are accessed from other commands using @my_var. For example,
	+ @my_var
	or
	save datfile_@4myvar
	As with loops, the end of a variable can be tagged by adding a '\' For example,
	save datfile_@my_var\_corrected
	See also commands FLOAT and INTVARIABLE

VECIMG n
	Record the vector magnitudes (scaled by n) in the image buffer.

VECIMX n
	Record the x-component of velocity (scaled by n) in the image buffer.

VECIMY n
	Record the y-component of velocity (scaled by n) in the image buffer.

VORT2 scale
	calculate the vorticity another way -- simply differences

VORTICITY scale
	Calculate vorticity; calculation method from Reuss et al. -- circulation around a closed contour surrounding the point

WAITHI bit_number
	Waits until the specified digital I/O bit is asserted high on a LabJack U12. Don't use bit_number = 2, as that is reserved for output using the DOUT command.

WARP subpix
	Remaps an image coordinate system using bilinear geometric warping.
	x' = a00 + a01x + a10y + a11xy
	y' = b00 + b01x + b10y + b11xy
	The 8 parameters must first be read in with the WARPARAMS command. the subpix command specifies subpixel resolution used (default is 0.2). Without subpixel sampling, there would likely be holes in the warped image.

WARPARAMS <filename>
	Reads in 8 warp parameters from the specified file. The format of the text file should be as follows:
	a00 a01 a10 a11
	b00 b01 b10 b11

WDATA n 
	Writes n data words from the current image data buffer.

WRITEBAD filename
	save bad pixel data to a text file.
	Format is:
	# of bad pixels
	detector_width	detector_height
	bad_pix1_x
	bad_pix1_y
	bad_pix2_x
	bad_pix2_y
	.
	.
	.

X0 n
	Specifies that the detector is to be read out starting at channel n.

XCORRELATE <filename>
	Another cross correlation PIV command. The second image is in the specified file. (P. Kalt algorithm)

Y0 n
	Specifies that the detector is to be read out starting at track n.

